{
  "id": "b4dd52af-a92f-4405-9032-92c774fb93f7",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.images": {
      "name": "images",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tool_run_id": {
          "name": "tool_run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "image_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "s3_key": {
          "name": "s3_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "format": {
          "name": "format",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "images_session_id_sessions_id_fk": {
          "name": "images_session_id_sessions_id_fk",
          "tableFrom": "images",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "images_message_id_messages_id_fk": {
          "name": "images_message_id_messages_id_fk",
          "tableFrom": "images",
          "tableTo": "messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "images_tool_run_id_tool_runs_id_fk": {
          "name": "images_tool_run_id_tool_runs_id_fk",
          "tableFrom": "images",
          "tableTo": "tool_runs",
          "columnsFrom": [
            "tool_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "parent_id": {
          "name": "parent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "message_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tool_name": {
          "name": "tool_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tool_call_id": {
          "name": "tool_call_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_compacted": {
          "name": "is_compacted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "token_count": {
          "name": "token_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "messages_session_id_sessions_id_fk": {
          "name": "messages_session_id_sessions_id_fk",
          "tableFrom": "messages",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "session_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "provider_session_id": {
          "name": "provider_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary_up_to_message_id": {
          "name": "summary_up_to_message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sessions_user_id_users_id_fk": {
          "name": "sessions_user_id_users_id_fk",
          "tableFrom": "sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tool_runs": {
      "name": "tool_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tool_name": {
          "name": "tool_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "args": {
          "name": "args",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "tool_run_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tool_runs_session_id_sessions_id_fk": {
          "name": "tool_runs_session_id_sessions_id_fk",
          "tableFrom": "tool_runs",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "tool_runs_message_id_messages_id_fk": {
          "name": "tool_runs_message_id_messages_id_fk",
          "tableFrom": "tool_runs",
          "tableTo": "messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.character_appearance": {
      "name": "character_appearance",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "character_id": {
          "name": "character_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "gender": {
          "name": "gender",
          "type": "character_gender",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "hair_length": {
          "name": "hair_length",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hair_texture": {
          "name": "hair_texture",
          "type": "hair_texture",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "hair_style": {
          "name": "hair_style",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hair_color": {
          "name": "hair_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "eye_color": {
          "name": "eye_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "eye_shape": {
          "name": "eye_shape",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "skin_tone": {
          "name": "skin_tone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "face_shape": {
          "name": "face_shape",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nose_type": {
          "name": "nose_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lip_shape": {
          "name": "lip_shape",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "eyebrow_style": {
          "name": "eyebrow_style",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "facial_hair": {
          "name": "facial_hair",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scars": {
          "name": "scars",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "birthmarks": {
          "name": "birthmarks",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tattoos": {
          "name": "tattoos",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "piercings": {
          "name": "piercings",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "glasses": {
          "name": "glasses",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "additional_notes": {
          "name": "additional_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_generated_description": {
          "name": "ai_generated_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "character_appearance_character_id_characters_id_fk": {
          "name": "character_appearance_character_id_characters_id_fk",
          "tableFrom": "character_appearance",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "character_appearance_character_id_unique": {
          "name": "character_appearance_character_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "character_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.character_background": {
      "name": "character_background",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "character_id": {
          "name": "character_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "origin_story": {
          "name": "origin_story",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "birthplace": {
          "name": "birthplace",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_location": {
          "name": "current_location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "occupation": {
          "name": "occupation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "skills": {
          "name": "skills",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "hobbies": {
          "name": "hobbies",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "interests": {
          "name": "interests",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "relationship_status": {
          "name": "relationship_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "important_relationships": {
          "name": "important_relationships",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "significant_events": {
          "name": "significant_events",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "secrets": {
          "name": "secrets",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "goals": {
          "name": "goals",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "additional_notes": {
          "name": "additional_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "character_background_character_id_characters_id_fk": {
          "name": "character_background_character_id_characters_id_fk",
          "tableFrom": "character_background",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "character_background_character_id_unique": {
          "name": "character_background_character_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "character_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.character_body": {
      "name": "character_body",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "character_id": {
          "name": "character_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "height_value": {
          "name": "height_value",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "height_description": {
          "name": "height_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "build": {
          "name": "build",
          "type": "body_build",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "apparent_age": {
          "name": "apparent_age",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "age_category": {
          "name": "age_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "additional_notes": {
          "name": "additional_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "character_body_character_id_characters_id_fk": {
          "name": "character_body_character_id_characters_id_fk",
          "tableFrom": "character_body",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "character_body_character_id_unique": {
          "name": "character_body_character_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "character_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.character_images": {
      "name": "character_images",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "character_id": {
          "name": "character_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "image_type": {
          "name": "image_type",
          "type": "character_image_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "s3_key": {
          "name": "s3_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "thumbnail_url": {
          "name": "thumbnail_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "format": {
          "name": "format",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "prompt": {
          "name": "prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "seed": {
          "name": "seed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "generation_model": {
          "name": "generation_model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "character_images_character_id_characters_id_fk": {
          "name": "character_images_character_id_characters_id_fk",
          "tableFrom": "character_images",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.character_personality": {
      "name": "character_personality",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "character_id": {
          "name": "character_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "temperament": {
          "name": "temperament",
          "type": "temperament",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "positive_traits": {
          "name": "positive_traits",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "negative_traits": {
          "name": "negative_traits",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "quirks": {
          "name": "quirks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "core_values": {
          "name": "core_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "fears": {
          "name": "fears",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "motivations": {
          "name": "motivations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "speech_patterns": {
          "name": "speech_patterns",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "catchphrases": {
          "name": "catchphrases",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "additional_notes": {
          "name": "additional_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "character_personality_character_id_characters_id_fk": {
          "name": "character_personality_character_id_characters_id_fk",
          "tableFrom": "character_personality",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "character_personality_character_id_unique": {
          "name": "character_personality_character_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "character_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.character_style": {
      "name": "character_style",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "character_id": {
          "name": "character_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "clothing_style": {
          "name": "clothing_style",
          "type": "clothing_style",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "primary_colors": {
          "name": "primary_colors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "secondary_colors": {
          "name": "secondary_colors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "favorite_outfit": {
          "name": "favorite_outfit",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "accessories": {
          "name": "accessories",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "jewelry": {
          "name": "jewelry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "headwear": {
          "name": "headwear",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "style_influences": {
          "name": "style_influences",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "additional_notes": {
          "name": "additional_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "character_style_character_id_characters_id_fk": {
          "name": "character_style_character_id_characters_id_fk",
          "tableFrom": "character_style",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "character_style_character_id_unique": {
          "name": "character_style_character_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "character_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.character_voice": {
      "name": "character_voice",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "character_id": {
          "name": "character_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "formality_level": {
          "name": "formality_level",
          "type": "formality_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "emotional_range": {
          "name": "emotional_range",
          "type": "emotional_range",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "primary_tone": {
          "name": "primary_tone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_tone": {
          "name": "secondary_tone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vocabulary": {
          "name": "vocabulary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "accent": {
          "name": "accent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "languages": {
          "name": "languages",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "example_greeting": {
          "name": "example_greeting",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "example_farewell": {
          "name": "example_farewell",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "example_angry": {
          "name": "example_angry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "example_happy": {
          "name": "example_happy",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "system_prompt_additions": {
          "name": "system_prompt_additions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "additional_notes": {
          "name": "additional_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "character_voice_character_id_characters_id_fk": {
          "name": "character_voice_character_id_characters_id_fk",
          "tableFrom": "character_voice",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "character_voice_character_id_unique": {
          "name": "character_voice_character_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "character_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.characters": {
      "name": "characters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tagline": {
          "name": "tagline",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "character_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "creation_step": {
          "name": "creation_step",
          "type": "creation_step",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'intro'"
        },
        "creation_session_id": {
          "name": "creation_session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_interaction_at": {
          "name": "last_interaction_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "characters_user_id_users_id_fk": {
          "name": "characters_user_id_users_id_fk",
          "tableFrom": "characters",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "characters_creation_session_id_sessions_id_fk": {
          "name": "characters_creation_session_id_sessions_id_fk",
          "tableFrom": "characters",
          "tableTo": "sessions",
          "columnsFrom": [
            "creation_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.image_role": {
      "name": "image_role",
      "schema": "public",
      "values": [
        "upload",
        "reference",
        "generated",
        "mask",
        "tile"
      ]
    },
    "public.message_role": {
      "name": "message_role",
      "schema": "public",
      "values": [
        "system",
        "user",
        "assistant",
        "tool"
      ]
    },
    "public.session_status": {
      "name": "session_status",
      "schema": "public",
      "values": [
        "active",
        "archived",
        "deleted"
      ]
    },
    "public.tool_run_status": {
      "name": "tool_run_status",
      "schema": "public",
      "values": [
        "pending",
        "running",
        "succeeded",
        "failed",
        "cancelled"
      ]
    },
    "public.body_build": {
      "name": "body_build",
      "schema": "public",
      "values": [
        "slim",
        "athletic",
        "muscular",
        "curvy",
        "average",
        "plus_size"
      ]
    },
    "public.character_gender": {
      "name": "character_gender",
      "schema": "public",
      "values": [
        "male",
        "female",
        "non_binary",
        "other"
      ]
    },
    "public.character_image_type": {
      "name": "character_image_type",
      "schema": "public",
      "values": [
        "portrait",
        "full_body",
        "expression",
        "outfit",
        "scene",
        "avatar"
      ]
    },
    "public.character_status": {
      "name": "character_status",
      "schema": "public",
      "values": [
        "draft",
        "active",
        "archived"
      ]
    },
    "public.clothing_style": {
      "name": "clothing_style",
      "schema": "public",
      "values": [
        "casual",
        "formal",
        "fantasy",
        "sci_fi",
        "vintage",
        "streetwear",
        "elegant",
        "gothic",
        "cyberpunk",
        "medieval"
      ]
    },
    "public.creation_step": {
      "name": "creation_step",
      "schema": "public",
      "values": [
        "intro",
        "basic_info",
        "appearance",
        "body",
        "style",
        "personality",
        "background",
        "voice",
        "summary",
        "complete"
      ]
    },
    "public.emotional_range": {
      "name": "emotional_range",
      "schema": "public",
      "values": [
        "reserved",
        "balanced",
        "expressive",
        "dramatic"
      ]
    },
    "public.formality_level": {
      "name": "formality_level",
      "schema": "public",
      "values": [
        "very_casual",
        "casual",
        "neutral",
        "formal",
        "very_formal"
      ]
    },
    "public.hair_texture": {
      "name": "hair_texture",
      "schema": "public",
      "values": [
        "straight",
        "wavy",
        "curly",
        "coily",
        "kinky"
      ]
    },
    "public.temperament": {
      "name": "temperament",
      "schema": "public",
      "values": [
        "sanguine",
        "choleric",
        "melancholic",
        "phlegmatic"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}